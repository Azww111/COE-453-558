<!DOCTYPE html>
<html>
<body>
    <h1>HTML Form</h1>
    <form id="myForm">
        <label>Username: </label>
        <input type="text" name="username"><br>
        <label>Password: </label>
        <input type="text" name="password"><br><br>
        <input type="submit" value="Submit">
    </form> 

    <script>
        myForm.addEventListener('submit', e => {
            e.preventDefault()
            
            let data = {}
            new FormData(myForm).forEach( (value, key) => data[key] = value)
            
            let request = {
                method: 'POST',
                headers: {
                'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            }
            
            fetch('login', request).then( res => res.json() )
              .then( data => console.log(data) )
              .catch( err => console.log(err) )
        })
    </script>
</body>
</html>

